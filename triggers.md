# Triggers
## Plantilla 
```sql
CREATE OR REPLACE TRIGGER TABLE_NAME_TRG 
  BEFORE INSERT OR UPDATE ON TABLE_NAME 
  FOR EACH ROW 
BEGIN 
  IF INSERTING THEN 
    :NEW.CREATED    :=SYSDATE;
    :NEW.CREATED_BY := NVL(V('APP_USER'),USER);
    :NEW.STATUS := 1;
    IF :NEW.ID IS NULL THEN
      SELECT TABLE_NAME_SEQ.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
    END IF;
  END IF;
  
  IF UPDATING THEN
    :NEW.UPDATED    :=SYSDATE;
    :NEW.UPDATED_BY := NVL(V('APP_USER'),USER);
  END IF;
END;
```

# RESTRICTION
ALTER TABLE DOC_CHEQUES  ADD CONSTRAINT SALIDA_UNICA CHECK (NOT(PROV_PAGO_ID IS NOT NULL AND CUENTA_IN IS NOT NULL) );  
ALTER TABLE DOC_CHEQUES DROP CONSTRAINT RK_1;


### Trigger revisados
- [x] CLIENTES_TRG 
- [x] CLI_CUENTAS 
- [x] CLI_DFISCAL   **CLI_CUENTAS_SEQ**
- [x] CLI_CONTACTOS  
- [x] CLI_DEPOSITOS
- [x] CLI_GRUPOS 
- [x] ARTICULOS
- [x] VENDEDORES

|TRIGGER|TABLE_NAME||||
|-|-|-|-|
|ART_HISTORICO|ARTICULOS|BEFORE EACH ROW|UPDATE|
|ART_STOCK|ARTICULOS|AFTER STATEMENT|UPDATE|
|ART_STOCK_1|CABS_CORR_D|AFTER EACH ROW|INSERT OR UPDATE OR DELETE|
|ART_STOCK_2|CABS_CORR_EXT|AFTER EACH ROW|INSERT OR UPDATE OR DELETE|
|ART_STOCK_3|PRODUCCION|AFTER EACH ROW|INSERT OR UPDATE OR DELETE|
|ART_STOCK_4|PRODUCCION_PL|AFTER EACH ROW|INSERT OR UPDATE OR DELETE|
|ART_STOCK_5|VTA_REMITOS_DETALLE|AFTER EACH ROW|INSERT OR UPDATE OR DELETE|
|ART_11_TRG|ART_11|BEFORE EACH ROW|INSERT|
|BI_VIC_USERS|VIC_USERS|BEFORE EACH ROW|INSERT|
|CABS_CORR_D_TRG|CABS_CORR_D|BEFORE EACH ROW|INSERT|
|CABS_CORR_EXT_TRG1|CABS_CORR_EXT|BEFORE EACH ROW|INSERT|
|CABS_CORR_FAV_TRG|CABS_CORR_FAV|BEFORE EACH ROW|INSERT|
|CABS_FACTURAS_DETALLE_TRG|CABS_FACTURAS_DETALLE|BEFORE EACH ROW|INSERT|
|CABS_FACTURAS_TRG|CABS_FACTURAS|BEFORE EACH ROW|INSERT|
|CLI_CONTACTOS_T1|CLI_CONTACTOS|BEFORE EACH ROW|INSERT OR UPDATE|
|CLI_CUENTAS_T1|CLI_CUENTAS|BEFORE EACH ROW|INSERT|
|CLI_DEPOSITOS_T1|CLI_DEPOSITOS|BEFORE EACH ROW|INSERT OR UPDATE|
|CLI_DFISCAL_T1|CLI_DFISCAL|BEFORE EACH ROW|INSERT OR UPDATE|
|CLIENTES_T1|CLIENTES|BEFORE EACH ROW|INSERT OR UPDATE|
|CLI_GRUPOS_T1|CLI_GRUPOS|BEFORE EACH ROW|INSERT OR UPDATE|
|CLI_IIBB_TRG|CLI_IIBB|BEFORE EACH ROW|INSERT|
|IMPORT_DETALLE_BIU|IMPORT_DETALLE|BEFORE EACH ROW|INSERT OR UPDATE|
|PROV_COMPRAS_PAGOS_INS|PROV_COMPRAS_PAGOS|BEFORE EACH ROW|INSERT|
|TRG_ART_CALIDAD_H|ART_CALIDAD_H|BEFORE EACH ROW|INSERT|
|TRG_ART_CALIDAD_0|ART_CALIDAD_0|BEFORE EACH ROW|UPDATE|
|TRG_ART_CALIDAD_1|ART_CALIDAD_1|BEFORE EACH ROW|UPDATE|
|TRG_ART_COTIZ|ART_COTIZ|BEFORE EACH ROW|INSERT|
|TRG_ARTICULOS|ARTICULOS|BEFORE EACH ROW|INSERT|
|TRG_ART_SHARED|ART_SHARED|BEFORE EACH ROW|INSERT|
|TRG_BOB_TIPO|BOB_TIPO|BEFORE EACH ROW|INSERT OR UPDATE|
|TRG_BOB_TIPO_H|BOB_TIPO_H|BEFORE EACH ROW|INSERT|
|TRG_CAB_DEPOSITOS_NEW|CAB_DEPOSITOS|BEFORE EACH ROW|INSERT|
|TRG_CONTROL_BOB_ESTADO|BOB|BEFORE EACH ROW|UPDATE|
|TRG_CONTROL_BOB_ESTADO_2|BOB|BEFORE EACH ROW|UPDATE|
|TRG_CONTROL_BOB_PSTOCK|BOB_USO|AFTER EACH ROW|INSERT OR DELETE|
|TRG_DOC_CAJAS_NEW|DOC_CAJAS|BEFORE EACH ROW|INSERT|
|TRG_DOC_CHEQUES_NEW|DOC_CHEQUES|BEFORE EACH ROW|INSERT|
|TRG_DOC_CHEQUES_TRG1|DOC_CHEQUES|BEFORE EACH ROW|INSERT OR UPDATE|
|TRG_DOC_RETEN_NEW|DOC_RETEN|BEFORE EACH ROW|INSERT|
|TRG_LOV_COTIZ_H|LOV_COTIZ_H|BEFORE EACH ROW|INSERT|
|TRG_NEW_BOB|BOB|BEFORE EACH ROW|INSERT|
|TRG_NEW_BOB_ORDEN|BOB_ORDEN|BEFORE EACH ROW|INSERT|
|TRG_NEW_BOB_PROV|BOB_PROV|BEFORE EACH ROW|INSERT|
|TRG_NEW_BOB_USO|BOB_USO|BEFORE EACH ROW|INSERT|
|TRG_NEW_CABS_CORR_C|CABS_CORR_C|BEFORE EACH ROW|INSERT|
|TRG_PRODUCCION_NEW|PRODUCCION|BEFORE EACH ROW|INSERT OR UPDATE|
|TRG_PROV_COMPRAS_NEW|PROV_COMPRAS|BEFORE EACH ROW|INSERT|
|TRG_PROVEDORES_NEW|PROVEDORES|BEFORE EACH ROW|INSERT|
|TRG_PROV_PAGOS|PROV_PAGOS|BEFORE EACH ROW|INSERT|
|TRG_UPDATE_BOB_USO|BOB_USO|BEFORE STATEMENT|UPDATE|
|TRG_VTA_FACTURAS_A1|VTA_FACTURAS_A1|BEFORE EACH ROW|INSERT|
|TRG_VTA_FACTURAS_DETALLE_NEW|VTA_FACTURAS_DETALLE|BEFORE EACH ROW|INSERT|
|TRG_VTA_FACTURAS_NEW|VTA_FACTURAS|BEFORE EACH ROW|INSERT OR UPDATE|
|TRG_VTA_PEDIDOS|VTA_PEDIDOS|BEFORE EACH ROW|INSERT|
|TRG_VTA_RECIBOS_NEW|VTA_RECIBOS|BEFORE EACH ROW|INSERT|
|TRG_VTA_RECIBOS_UPD|VTA_RECIBOS|BEFORE EACH ROW|UPDATE|
|TRG_VTA_REMITO|VTA_REMITOS|BEFORE EACH ROW|INSERT OR UPDATE|
|TRG_VTA_REMITOS_A1|VTA_REMITOS_A1|BEFORE EACH ROW|INSERT|
|TRG_VTA_REMITOS_A2|VTA_REMITOS_A2|BEFORE EACH ROW|INSERT|
|TRG_VTA_REMITOS_DETALLE_NEW|VTA_REMITOS_DETALLE|BEFORE EACH ROW|INSERT|
|VENDEDORES_T1|VENDEDORES|BEFORE EACH ROW|INSERT OR UPDATE|